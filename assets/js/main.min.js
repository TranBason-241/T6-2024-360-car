$(document).ready(function () {
  // fakeImg
  size = 200;
  speed = 15;
  direction = "ltr";

  for (let index = 0; index < size; index++) {
    var img = document.createElement("img");
    img.classList.add("img-model");
    // img.classList.add("img-model-show");
    id = index + 1;
    img.src = `https://360views.3dmodels.org/standard/VinFast/011_VinFast_VF_e35_2021/VinFast_VF_e35_2021_360_1080_200-${id}.jpg`;
    document.querySelector(".img-model-container").appendChild(img);
  }

  function RolateModel(idModel, options = {}) {
    var defaultOptions = {
      interval: null,
      intervalTime: 50,
      isReverse: false,
      currentIndex: 0,
    };

    var settings = { ...defaultOptions, ...options };

    var model = document.querySelector(`#${idModel}`);
    if (!model) {
      return;
    }

    var listImage = model.querySelectorAll(".img-model-container .img-model");

    // init image
    function showImage(index) {
      // Ẩn tất cả các hình ảnh
      listImage.forEach(function (slide) {
        slide.style.display = "none";
      });
      // Hiển thị hình ảnh tại vị trí index
      listImage[index].style.display = "block";
    }

    function changeImage() {
      settings.currentIndex = (settings.currentIndex + (settings.isReverse ? -1 : 1) + listImage.length) % listImage.length;
      showImage(settings.currentIndex);
    }

    // Bắt đầu slideshow
    function startSlideshow() {
      settings.interval = setInterval(changeImage, settings.intervalTime);
    }

    //Change Speed
    function changeSpeed(speed) {
      settings.intervalTime = speed;
      console.log("change");
      console.log(settings.intervalTime);
      clearInterval(settings.interval); // Dừng interval cũ trước khi khởi động lại với tốc độ mới
      startSlideshow(); // Bắt đầu lại slideshow sau khi thay đổi tốc độ
    }

    startSlideshow();

    return {
      pause: function () {
        clearInterval(settings.interval);
      },
      start: function () {
        startSlideshow();
      },
      startSlideshow: startSlideshow,
      speed: changeSpeed,
    };
  }

  model_1 = new RolateModel("model-1");

  setTimeout(() => {
    model_1.speed(40);
  }, 3000);
  // setTimeout(() => {
  //   model_1.speed(15);
  // }, 10000);
});

// write function convert string to number

// write function change background when click on button has id = "haha"
